<!doctype html>
<html style="background-color: #f5f5f5; min-height: 100%;">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>Apply to Makers Academy</title>

  <link href="../../stylesheets/application.css" rel="stylesheet" />
  <link href="http://code.ionicframework.com/ionicons/1.4.1/css/ionicons.min.css" rel="stylesheet" />
  <script src="../../javascripts/application.js"></script>
</head>
<body class="docs docs_source_maps docs_source_maps_index">
  <nav class='navbar navbar-default opal-nav' role='navigation'>
  <div class='container'>
    <div class='navbar-header'>
      <a class='navbar-brand' href='/'>
        <img height='22' src='http://assets.makersacademy.com/images/logo/ma-white.png' width='44'>
        Makers Academy
      </a>
      <button class='navbar-toggle' data-target='#opal-navbar' data-toggle='collapse' type='button'>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
      </button>
    </div>
    <div class='navbar-collapse collapse' id='opal-navbar'>
      <ul class='nav navbar-nav'>
        <li>
          <a href='https://github.com/makersacademy'>
            <i class='ion-social-github'></i>
            GitHub
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <script>$('a[href="'+location.pathname.replace(/\/$/,'')+'"]').parent().addClass('active')</script>

  <div class="container">
      <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h1></h1>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-push-8">
        <ul class="nav opal-sidebar">
<li class="toc-list-chapter"><a href="#enable-source-maps">Enable source maps</a>
<ul class="subchapter">
<li class="toc-list-subchapter"><a href="#rails">Rails</a>
<li class="toc-list-subchapter"><a href="#sinatra">Sinatra</a>
<li class="toc-list-subchapter"><a href="#opal-server">Opal::Server</a>
<li class="toc-list-subchapter"><a href="#opal-environment">Opal::Environment</a></li>
</ul></li></ul>
      </div>

      <div class="col-md-8 col-md-pull-4">
        <h1 id="source-maps">Source maps</h1>

<p>Source maps are available (on current stable release, v0.6.x) even without explicit support from Sprockets in a sort of hackish way.</p>

<p><em>As such even if they generally work fine there are some limitations and edge case issues.</em></p>

<div class="opal-callout opal-callout-info">
<p>
  <strong>Note on <code>master</code> branch</strong>
</p>
<p>
  Currently on master sourcemaps are work-in-progress and probably will integrate with the upcoming Sprockets 4 that has integrated support for them.
</p>
</div>

<h4 id="processor-source_map_enabled-flag">Processor <code>source_map_enabled</code> flag</h4>

<p>To enable sourcemaps in the Sprockets processor you need to turn on the relative flag:</p>
<pre class="highlight ruby"><code><span class="no">Opal</span><span class="o">::</span><span class="no">Processor</span><span class="p">.</span><span class="nf">source_map_enabled</span> <span class="o">=</span> <span class="kp">true</span> <span class="c1"># default</span>
</code></pre>

<h4 id="sprockets-debug-mode">Sprockets debug mode</h4>

<p>The  sourcemaps only work with Sprockets in debug mode because they are generated just for single files.</p>

<h2 id="enable-source-maps">Enable source maps</h2>

<h3 id="rails">Rails</h3>

<p>Rails has debug mode already enabled in development environment with the following line from <code>config/environments/development.rb</code>:</p>
<pre class="highlight ruby"><code><span class="c1"># Debug mode disables concatenation and preprocessing of assets.</span>
<span class="c1"># This option may cause significant delays in view rendering with a large</span>
<span class="c1"># number of complex assets.</span>
<span class="n">config</span><span class="p">.</span><span class="nf">assets</span><span class="p">.</span><span class="nf">debug</span> <span class="o">=</span> <span class="kp">true</span>
</code></pre>

<p><code>opal-rails</code> also enables sourcemaps in development so with the standard setup you ready to go.</p>

<h3 id="sinatra">Sinatra</h3>

<p>You can add <code>Opal::Server</code> as in the official example: <a href="https://github.com/opal/opal/blob/0-6-stable/examples/sinatra/config.ru">sinatra/config.ru</a>.</p>

<h3 id="opal-server">Opal::Server</h3>

<p><code>Opal::Server</code> implements sourcemaps and can be used alone or with <code>Rack::Cascade</code> in conjunction with other apps.</p>

<h3 id="opal-environment">Opal::Environment</h3>

<p><code>Opal::Environment</code> is a bit lower level and doesn&#39;t support source maps by itself.</p>

      </div>
    </div>
  </div>

  </div>

  <!-- GOOGLE ANALYTICS -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35688734-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<footer>
  Powered by <a href="https://github.com/opal/">Opal</a>
</footer>


  <script>
    $('a[href="'+location.pathname.replace(/\/$/,'')+'"]').parent('li').addClass('active')
  </script>
</body>
</html>
